@event EchoEvent {
  type = "sample.echo"
  data = {
    status = string
    payload = any
  }
}

@function EchoFunction {
  runtime = "nodejs:16"
  codeDir = "./code"
  resource = {
    cpu = "1024m"
    memory = "128Mi"
  }
  pubsub = {
    events = [EchoEvent]
  }
}

@application {
  functions = [EchoFunction]
  defaultProvider = KnativeCluster1
}

@provider KnativeCluster1 {
  kind = "knative"
}
